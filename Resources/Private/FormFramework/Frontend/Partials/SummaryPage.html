<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:formvh="http://typo3.org/ns/TYPO3/CMS/Form/ViewHelpers"
      data-namespace-typo3-fluid="true">

<formvh:renderRenderable renderable="{page}">
    <fieldset class="Form__summary">
        <legend class="FormPage__legend">
            <h3 class="Form__summary-heading">
                <f:if condition="{page.label}">
                    <f:then>
                        {formvh:translateElementProperty(element: page, property: 'label')}
                    </f:then>
                    <f:else>
                        {f:translate(key: 'LLL:EXT:tw_forms/Resources/Private/Language/locallang.xlf:form.confirmation')}
                    </f:else>
                </f:if>
            </h3>
        </legend>

        <dl class="Form__summary-list">
            <formvh:renderAllFormValues renderable="{page.rootForm}" as="formValue">
                <f:if condition="{formValue.isSection}">
                    <f:else>
                        <div class="Form__summary-list-item">
                            <f:render section="definitionTerm" arguments="{formValue: formValue}" />
                            <f:render section="definitionDescription" arguments="{formValue: formValue}" />
                        </div>
                    </f:else>
                </f:if>
            </formvh:renderAllFormValues>
        </dl>
    </fieldset>
</formvh:renderRenderable>

<f:section name="definitionTerm">
    <dt>{formvh:translateElementProperty(element: formValue.element, property: 'label')}</dt>
</f:section>

<f:section name="definitionDescription">
    <dd>
        <f:if condition="{formValue.value}">
            <f:then>
                <f:if condition="{formValue.isMultiValue}">
                    <f:then>
                        <ul>
                            <f:for each="{formValue.processedValue}" as="value">
                                <li>{value}</li>
                            </f:for>
                        </ul>
                    </f:then>
                    <f:else>
                        <f:format.nl2br>{formValue.processedValue}</f:format.nl2br>
                    </f:else>
                </f:if>
            </f:then>
            <f:else>
                -
            </f:else>
        </f:if>
    </dd>
</f:section>
</html>
