!function(e,t,s,r){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){for(let s=0;s<this.length;++s)e.call(t||window,this[s],s,this)}),t.matches||(t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||(e=>{const t=(this.document||this.ownerDocument).querySelectorAll(e);let s=t.length-1;for(;s>=0&&t.item(s)!==this;)s-=1;return s>-1})),t.closest||(t.closest=function(e){let t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),s.format||(s.format=function(...e){return this.replace(/{(\d+)}/g,((t,s)=>void 0!==e[s]?e[s]:t))}),"classList"in r||Object.defineProperty(r,"classList",{get(){return{contains:e=>-1!==this.className.baseVal.split(" ").indexOf(e),add:e=>this.setAttribute("class",`${this.getAttribute("class")} ${e}`),remove:e=>{const t=this.getAttribute("class").replace(new RegExp(`(\\s|^)${e}(\\s|$)`,"g"),"$2");this.classList.contains(e)&&this.setAttribute("class",t)}}}})}(window,Element.prototype,String.prototype,SVGElement.prototype);const e=window.tw_forms||{has:{}};window.tw_forms=e,function(e,t){function s(){this.observed=[["[data-mutate-recursive]",this.process.bind(this)]];const e=this.checkNode.bind(this);new MutationObserver((t=>t.forEach((t=>Array.prototype.slice.call(t.addedNodes).filter((e=>1===e.nodeType)).forEach(e))))).observe(t.documentElement,{characterData:!0,attributes:!1,childList:!0,subtree:!0})}"undefined"!=typeof exports&&exports.Observer||e.tw_forms.Observer||(s.prototype.register=function(e,t){this.observed.push([e,t])},s.prototype.checkNode=function(e){this.observed.filter((t=>e.matches(t[0]))).forEach((t=>{t[1](e)}))},s.prototype.process=function(e){1===e.nodeType&&this.observed.forEach((t=>e.querySelectorAll(t[0]).forEach((e=>t[1](e)))))},"undefined"!=typeof exports?exports.Observer=new s:e.tw_forms.Observer=new s)}("undefined"!=typeof global?global:window,document),function(t,s){let r=s.documentElement.scrollIntoView?"scrollIntoView":null;function i(e){if(this.element=e,this.element.enhancer=this,this.wrapper=this.element.closest(".FormField"),this.groupPrimaryEnhancer=null,this.groupEnhancers=[],this.isGroup=this.element.classList.contains("FormMultiCheckbox"),this.isGroup)for(let e=0;e<this.element.form.elements.length;++e){const t=this.element.form.elements[e].id,s=this.element.form.elements[e].name;if(t&&s&&this.element.name===s&&this.element.id!==t){this.groupPrimaryEnhancer=this.element.form.elements[e].enhancer;break}}if(this.isGroup&&this.groupPrimaryEnhancer)return this.groupPrimaryEnhancer.groupEnhancers.push(this),void this.element.addEventListener("input",this.validate.bind(this.groupPrimaryEnhancer,!0));this.lastConstraints=0,this.errorMessages={},this.errorMessageBag=this.element.hasAttribute("aria-errormessage")?s.getElementById(this.element.getAttribute("aria-errormessage")):null,this.recursiveErrorMessages=null,this.errorMessageBag&&(this.constraints.forEach((e=>{const t=`errormsg${e.substr(0,1).toUpperCase()}${e.substr(1).toLowerCase()}`;this.element.dataset[t]&&(this.errorMessages[e]=this.element.dataset[t])})),this.errorMessageBag.querySelectorAll("[data-constraint]").forEach((e=>{const t=this.constraints.indexOf(e.dataset.constraint);t>=0&&(this.lastConstraints+=Math.pow(2,t))})),this.element.addEventListener("input",this.validate.bind(this,!0)))}s.documentElement.scrollIntoViewIfNeeded&&(r="scrollIntoViewIfNeeded"),i.prototype.constraints=["badInput","patternMismatch","rangeOverflow","rangeUndeflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing"],i.prototype.validate=function(e){if(this.recursiveErrorMessages)return this.recursiveErrorMessages;const t={};let s=0;const r=this.isGroup&&!this.groupPrimaryEnhancer?this.validateGroup():this.element.validity;if(e||!r.valueMissing)for(const e in this.errorMessages)Object.prototype.hasOwnProperty.call(this.errorMessages,e)&&e in r&&r[e]&&(t[e]=this.errorMessages[e],s+=Math.pow(2,this.constraints.indexOf(e)));return this.recursiveErrorMessages=t,this.updateErrorMessageBag(s,t),this.recursiveErrorMessages=null,t},i.prototype.validateGroup=function(){if(this.element.validity.valueMissing)for(let e=0;e<this.groupEnhancers.length;++e)if(this.groupEnhancers[e].element.checked)return this.overrideValidityState({valueMissing:!1});return this.element.validity},i.prototype.overrideValidityState=function(e){const t={valid:!0};return this.constraints.forEach((s=>{t[s]=s in e?e[s]:this.element.validity[s],t.valid=t.valid&&!t[s]})),t},i.prototype.updateErrorMessageBag=function(e,t){if(e!==this.lastConstraints){for(e?(this.errorMessageBag.removeAttribute("hidden"),this.element.setAttribute("aria-invalid","true"),this.wrapper.classList.add("FormField--has-error")):(this.errorMessageBag.setAttribute("hidden","hidden"),this.element.setAttribute("aria-invalid","false"),this.wrapper.classList.remove("FormField--has-error"));this.errorMessageBag.childNodes.length;)this.errorMessageBag.removeChild(this.errorMessageBag.lastChild);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=s.createElement("span");r.setAttribute("data-constraint",e),r.textContent=t[e],this.errorMessageBag.appendChild(r)}this.lastConstraints=e,this.focusWrapper(),this.element.form.enhancer&&this.element.form.enhancer.update()}},i.prototype.focusWrapper=function(){r&&this.wrapper[r]({block:"center",inline:"start",behavior:"smooth"})},i.prototype.focus=function(){this.element.focus(),this.focusWrapper()},e.Observer.register(".FormField__input, .FormField__textarea",(e=>new i(e)))}("undefined"!=typeof global?global:window,document);
