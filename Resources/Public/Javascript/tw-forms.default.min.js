(()=>{(function(d,n){let l=n.title,h=function(e){return e.preventDefault(),this.fields[e.target.href.split("#").pop()].focus(),!1};function s(o){this.element=o,this.element.enhancer=this,this.element.setAttribute("novalidate","novalidate"),this.element.addEventListener("submit",this.validate.bind(this)),this.errorNavigation=null,this.fields={};for(let e=0;e<this.element.elements.length;++e){let t=this.element.elements[e].id;t&&this.element.elements[e].enhancer&&(!this.element.elements[e].enhancer.isGroup||!this.element.elements[e].enhancer.groupPrimaryEnhancer)&&(this.fields[t]=this.element.elements[e].enhancer)}this.initializeErrorSummary(this.element.querySelector(".Form__error-summary"))}s.prototype.initializeErrorSummary=function(e){this.errorSummary=e,this.errorSummary&&(this.errorNavigation=this.errorSummary.closest(".Form__error-navigation"),this.errorSummary.querySelectorAll("a.Form__error-link").forEach(t=>{let i=t.href.split("#");i.length===2&&i[1]in this.fields&&t.addEventListener("click",h.bind(this))}))},s.prototype.validate=function(e){if(!this.errorNavigation)return;let t=e&&e.submitter&&e.submitter.hasAttribute("formnovalidate");if(this.element.dataset.dirty="1",!t){let i={};for(let r in this.fields)if(Object.prototype.hasOwnProperty.call(this.fields,r)&&d.isFieldVisible(this.fields[r].element)){let a=this.fields[r].validate(!0,null);Object.keys(a).length>0&&(i[r]=a)}if(!this.updateErrorSummary(i))return this.errorNavigation.removeAttribute("hidden"),this.errorNavigation.classList.add("Form__error-navigation--visible"),e&&(this.errorNavigation.focus(),e.preventDefault(),e.stopImmediatePropagation()),!1}this.errorNavigation.setAttribute("hidden","hidden"),this.errorNavigation.classList.remove("Form__error-navigation--visible")},s.prototype.update=function(){this.validate(null)},s.prototype.updateErrorSummary=function(e){let t=0;if(!this.errorSummary)return;for(;this.errorSummary.childNodes.length;)this.errorSummary.removeChild(this.errorSummary.firstChild);for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){t+=1;let a=n.createElement("a");a.className="Form__error-link",a.href=`#${r}`,a.textContent=Object.values(e[r]).join("; "),a.addEventListener("click",h.bind(this));let m=n.createElement("li");m.className="Form__error-description",m.appendChild(a),this.errorSummary.appendChild(m)}let i=this.errorNavigation.querySelector(".Form__error-heading");if(i){let r=`data-heading-${t===1?"single":"multiple"}`;i.textContent=i.getAttribute(r).split("%s").join(t.toString())}if(t){let r=this.errorNavigation.dataset.titleErrors;n.title=`${r} ${l}`.replace("{0}",t.toString())}return!t&&n.title!==l&&(n.title=l),!t},n.addEventListener("DOMContentLoaded",()=>{n.querySelectorAll("form.Form--custom-validation").forEach(o=>new s(o))})})(typeof global!="undefined"?global:window,document);})();
