(function(c,n){const m=n.title,d=function(e){return e.preventDefault(),this.fields[e.target.href.split("#").pop()].focus(),!1};function s(o){this.element=o,this.element.enhancer=this,this.element.setAttribute("novalidate","novalidate"),this.element.addEventListener("submit",this.validate.bind(this)),this.errorNavigation=null,this.fields={};for(let e=0;e<this.element.elements.length;++e){const t=this.element.elements[e].id;t&&this.element.elements[e].enhancer&&(!this.element.elements[e].enhancer.isGroup||!this.element.elements[e].enhancer.groupPrimaryEnhancer)&&(this.fields[t]=this.element.elements[e].enhancer)}this.initializeErrorSummary(this.element.querySelector(".Form__error-summary"))}s.prototype.initializeErrorSummary=function(e){this.errorSummary=e,this.errorSummary&&(this.errorNavigation=this.errorSummary.closest(".Form__error-navigation"),this.errorSummary.querySelectorAll("a.Form__error-link").forEach(t=>{const i=t.href.split("#");i.length===2&&i[1]in this.fields&&t.addEventListener("click",d.bind(this))}))},s.prototype.validate=function(e){if(!this.errorNavigation)return;const t=e&&e.submitter&&e.submitter.hasAttribute("formnovalidate");if(this.element.dataset.dirty="1",!t){const i={};for(const r in this.fields)if(Object.prototype.hasOwnProperty.call(this.fields,r)&&c.isFieldVisible(this.fields[r].element)){const a=this.fields[r].validate(!0,null);Object.keys(a).length>0&&(i[r]=a)}if(!this.updateErrorSummary(i))return this.errorNavigation.removeAttribute("hidden"),this.errorNavigation.classList.add("Form__error-navigation--visible"),e&&(this.errorNavigation.focus(),e.preventDefault(),e.stopImmediatePropagation()),!1}this.errorNavigation.setAttribute("hidden","hidden"),this.errorNavigation.classList.remove("Form__error-navigation--visible")},s.prototype.update=function(){this.validate(null)},s.prototype.updateErrorSummary=function(e){let t=0;if(!this.errorSummary)return;for(;this.errorSummary.childNodes.length;)this.errorSummary.removeChild(this.errorSummary.firstChild);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){t+=1;let a="";const f=this.element.querySelector(`#${r}`);f&&(a=f.getAttribute("data-title")||"");const l=n.createElement("a");l.className="Form__error-link",l.href=`#${r}`;const u=Object.values(e[r]).join("; ");l.textContent=a?`${a}: ${u}`:u,l.addEventListener("click",d.bind(this));const h=n.createElement("li");h.className="Form__error-description",h.appendChild(l),this.errorSummary.appendChild(h)}const i=this.errorNavigation.querySelector(".Form__error-heading");if(i){const r=`data-heading-${t===1?"single":"multiple"}`;i.textContent=i.getAttribute(r).split("%s").join(t.toString())}if(t){const r=this.errorNavigation.dataset.titleErrors;n.title=`${r} ${m}`.replace("{0}",t.toString())}return!t&&n.title!==m&&(n.title=m),!t},n.addEventListener("DOMContentLoaded",()=>{n.querySelectorAll("form.Form--custom-validation").forEach(o=>new s(o))})})(typeof global!="undefined"?global:window,document);
