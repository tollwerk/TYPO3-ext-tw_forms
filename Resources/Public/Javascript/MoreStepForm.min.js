(()=>{var a=class{static getLargestFileSize(t){let s=0;for(let r=0;r<t.files.length;r++){let o=t.files[r];o.size>s&&(s=o.size)}return s}static isFileExtensionInList(t,s){return s.indexOf("."+t)!==-1}static getExtensionFromFileName(t){return t.split(".").pop().toLowerCase()}static getUriWithoutGetParam(t){return t.split("?")[0]}static getRandomString(t){let s="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let o=0;o<t;o++)s+=r.charAt(Math.floor(Math.random()*r.length));return s}static redirectToUri(t){t.indexOf("http")!==-1?window.location=t:window.location.pathname=t}static hideElement(t){t!==null&&(t.style.display="none")}static showElement(t){t!==null&&(t.style.display="block")}static isElementVisible(t){return t.offsetParent!==null}};function p(){"use strict";let f="powermail_morestep",t="powermail_fieldset",s="btn-primary",r=this;this.initialize=function(){y(),g()},this.showFieldset=function(i,e){if(e.classList.contains(f)){F(e);let l=u(e);a.showElement(l[i]),b(e)}};let o=function(i){if(i.style.display==="none"||i.hasAttribute("hidden"))return!1;let e=i.parentElement;for(;e&&e!==document.body;){if(e.style.display==="none"||e.hasAttribute("hidden")||e.classList.contains("hidden")||e.classList.contains("powermail_fieldset")&&e.style.display==="none")return!1;e=e.parentElement}return!0},g=function(){let i=document.querySelectorAll("form."+f);for(let e=0;e<i.length;e++)w(i[e])},w=function(i){r.showFieldset(0,i)},y=function(){let i=document.querySelectorAll("[data-powermail-morestep-show]");for(let e=0;e<i.length;e++)i[e].addEventListener("click",function(l){l.preventDefault();let n=l.target.closest("form"),A=d(n),h=parseInt(l.target.getAttribute("data-powermail-morestep-show"),10);if(h>A){let x=Array.from(n.elements).filter(c=>o(c)&&c.enhancer),m=!0;if(x.forEach(c=>{let E=c.enhancer.validate(!0);Object.keys(E).length>0&&(m=!1)}),!m)return n.enhancer&&n.enhancer.errorNavigation&&(n.enhancer.errorNavigation.removeAttribute("hidden"),n.enhancer.errorNavigation.focus()),!1}r.showFieldset(h,n)})},F=function(i){let e=u(i);for(let l=0;l<e.length;l++)a.hideElement(e[l])},b=function(i){let e=i.querySelectorAll("[data-powermail-morestep-current]"),l=d(i);for(let n=0;n<e.length;n++)e[n].classList.remove(s),n===l&&e[n].classList.add(s)},d=function(i){let e=u(i);for(let l=0;l<e.length;l++)if(e[l].style.display!=="none")return l},u=function(i){return i.querySelectorAll("."+t)}}var v=new p;v.initialize();})();
