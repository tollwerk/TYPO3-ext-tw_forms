(()=>{var c=class{static getLargestFileSize(l){let o=0;for(let a=0;a<l.files.length;a++){let u=l.files[a];u.size>o&&(o=u.size)}return o}static isFileExtensionInList(l,o){return o.indexOf("."+l)!==-1}static getExtensionFromFileName(l){return l.split(".").pop().toLowerCase()}static getUriWithoutGetParam(l){return l.split("?")[0]}static getRandomString(l){let o="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let u=0;u<l;u++)o+=a.charAt(Math.floor(Math.random()*a.length));return o}static redirectToUri(l){l.indexOf("http")!==-1?window.location=l:window.location.pathname=l}static hideElement(l){l!==null&&(l.style.display="none")}static showElement(l){l!==null&&(l.style.display="block")}static isElementVisible(l){return l.offsetParent!==null}};function w(){"use strict";let m="powermail_morestep",l="powermail_fieldset",o="btn-primary",a=this;this.initialize=function(){x(),S()};let u=function(t){if(!t.enhancer)return!0;let e=v(t);if(!e)return!0;let r=e.querySelectorAll(".FormField__input, .FormField__textarea"),i=!1;return r.forEach(function(s){if(s.enhancer){let n=s.enhancer.validate(!0);Object.keys(n).length>0&&(i=!0)}}),t.enhancer.update(),!i},v=function(t){let e=d(t);for(let r=0;r<e.length;r++)if(e[r].style.display!=="none")return e[r];return null};this.showFieldset=function(t,e,r=!1,i=!1){if(e.classList.contains(m)){let s=d(e),n=f(e);return!r&&t>n&&i&&!u(e)?!1:(E(e),c.showElement(s[t]),_(e),e.enhancer&&!i&&y(e),!0)}return!1},this.nextStep=function(t){let e=f(t),r=d(t);return e<r.length-1?this.showFieldset(e+1,t,!1,!0):!1},this.prevStep=function(t){let e=f(t);return e>0?this.showFieldset(e-1,t,!0,!1):!1};let y=function(t){let e=t.querySelector(".Form__error-navigation");e&&e.setAttribute("hidden","hidden"),t.querySelectorAll('[id$="-error"]').forEach(function(n){for(n.setAttribute("hidden","hidden");n.childNodes.length;)n.removeChild(n.lastChild)}),t.querySelectorAll(".FormField").forEach(function(n){n.classList.remove("FormField--has-error")}),t.querySelectorAll(".FormField__input, .FormField__textarea").forEach(function(n){n.setAttribute("aria-invalid","false")})},S=function(){let t=document.querySelectorAll("form."+m);for(let e=0;e<t.length;e++)A(t[e])},A=function(t){a.showFieldset(0,t,!0,!1)},x=function(){let t=document.querySelectorAll("[data-powermail-morestep-show]");for(let i=0;i<t.length;i++)t[i].addEventListener("click",function(s){s.preventDefault();let n=parseInt(s.target.getAttribute("data-powermail-morestep-show")),p=s.target.closest("form"),h=f(p),g=n<=h;if(!a.showFieldset(n,p,g,!1)&&!g){let F=p.querySelector(".Form__error-navigation");F&&!F.hasAttribute("hidden")&&F.focus()}});let e=document.querySelectorAll("[data-powermail-morestep-next]");for(let i=0;i<e.length;i++)e[i].addEventListener("click",function(s){s.preventDefault();let n=s.target.closest("form");if(!a.nextStep(n)){let h=n.querySelector(".Form__error-navigation");h&&!h.hasAttribute("hidden")&&h.focus()}});let r=document.querySelectorAll("[data-powermail-morestep-prev]");for(let i=0;i<r.length;i++)r[i].addEventListener("click",function(s){s.preventDefault();let n=s.target.closest("form");a.prevStep(n)})},E=function(t){let e=d(t);for(let r=0;r<e.length;r++)c.hideElement(e[r])},_=function(t){let e=t.querySelectorAll("[data-powermail-morestep-current]"),r=f(t);for(let i=0;i<e.length;i++)e[i].classList.remove(o),i===r&&e[i].classList.add(o)},f=function(t){let e=d(t);for(let r=0;r<e.length;r++)if(e[r].style.display!=="none")return r;return 0},d=function(t){return t.querySelectorAll("."+l)}}var q=new w;q.initialize();})();
