(()=>{var a=class{static getLargestFileSize(e){let s=0;for(let r=0;r<e.files.length;r++){let o=e.files[r];o.size>s&&(s=o.size)}return s}static isFileExtensionInList(e,s){return s.indexOf("."+e)!==-1}static getExtensionFromFileName(e){return e.split(".").pop().toLowerCase()}static getUriWithoutGetParam(e){return e.split("?")[0]}static getRandomString(e){let s="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let o=0;o<e;o++)s+=r.charAt(Math.floor(Math.random()*r.length));return s}static redirectToUri(e){e.indexOf("http")!==-1?window.location=e:window.location.pathname=e}static hideElement(e){e!==null&&(e.style.display="none")}static showElement(e){e!==null&&(e.style.display="block")}static isElementVisible(e){return e.offsetParent!==null}};function p(){"use strict";let f="powermail_morestep",e="powermail_fieldset",s="btn-primary",r=this;this.initialize=function(){w(),o()},this.showFieldset=function(i,t){if(t.classList.contains(f)){F(t);let l=u(t);a.showElement(l[i]),y(t)}};let o=function(){let i=document.querySelectorAll("form."+f);for(let t=0;t<i.length;t++)g(i[t])},g=function(i){r.showFieldset(0,i)},w=function(){let i=document.querySelectorAll("[data-powermail-morestep-show]");for(let t=0;t<i.length;t++)i[t].addEventListener("click",function(l){l.preventDefault();let n=l.target.closest("form"),x=d(n),h=parseInt(l.target.getAttribute("data-powermail-morestep-show"),10);if(h>x){let A=Array.from(n.elements).filter(c=>window.isFieldVisible(c)&&c.enhancer),m=!0;if(A.forEach(c=>{let b=c.enhancer.validate(!0);Object.keys(b).length>0&&(m=!1)}),!m)return n.enhancer&&n.enhancer.errorNavigation&&(n.enhancer.errorNavigation.removeAttribute("hidden"),n.enhancer.errorNavigation.focus()),!1}r.showFieldset(h,n)})},F=function(i){let t=u(i);for(let l=0;l<t.length;l++)a.hideElement(t[l])},y=function(i){let t=i.querySelectorAll("[data-powermail-morestep-current]"),l=d(i);for(let n=0;n<t.length;n++)t[n].classList.remove(s),n===l&&t[n].classList.add(s)},d=function(i){let t=u(i);for(let l=0;l<t.length;l++)if(t[l].style.display!=="none")return l},u=function(i){return i.querySelectorAll("."+e)}}var v=new p;v.initialize();})();
