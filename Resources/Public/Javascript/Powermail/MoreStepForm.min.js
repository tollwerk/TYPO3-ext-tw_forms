(()=>{var d=class{static getLargestFileSize(n){let a=0;for(let l=0;l<n.files.length;l++){let o=n.files[l];o.size>a&&(a=o.size)}return a}static isFileExtensionInList(n,a){return a.indexOf("."+n)!==-1}static getExtensionFromFileName(n){return n.split(".").pop().toLowerCase()}static getUriWithoutGetParam(n){return n.split("?")[0]}static getRandomString(n){let a="",l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let o=0;o<n;o++)a+=l.charAt(Math.floor(Math.random()*l.length));return a}static redirectToUri(n){n.indexOf("http")!==-1?window.location=n:window.location.pathname=n}static hideElement(n){n!==null&&(n.style.display="none")}static showElement(n){n!==null&&(n.style.display="block")}static isElementVisible(n){return n.offsetParent!==null}};function P(){"use strict";let u="powermail_morestep",n="powermail_fieldset",a=e=>{if(typeof e._validUntil=="number")return e._validUntil;let t=parseInt(e.dataset.morestepValidUntil||"-1",10);return Number.isNaN(t)?-1:t},l=(e,t)=>{e._validUntil=t,e.dataset.morestepValidUntil=String(t)},o=this;this.initialize=function(){A(),N(),_()},this.showFieldset=function(e,t,s=!0){t.classList.contains(u)&&(x(t),T(t,e),t._activeStep=e,V(t,e),m(t),M(t,e),s&&(t.setAttribute("tabindex","-1"),t.scrollIntoView({behavior:"smooth",block:"start"}),t.focus({preventScroll:!0})))};let A=function(){document.querySelectorAll("form."+u).forEach(e=>{let t=e.querySelectorAll("."+n);e._stepPristine=Array(t.length).fill(!0)})},_=function(){let e=document.querySelectorAll("form."+u);for(let t=0;t<e.length;t++)w(e[t])},w=function(e){l(e,-1),o.showFieldset(0,e,!1)},p=function(e,{showErrors:t=!0}={}){if(typeof window.isFieldVisible!="function")return!0;let s=Array.from(e.elements).filter(r=>window.isFieldVisible(r)&&r.enhancer),i=!0;return s.forEach(r=>{let c=!r.enhancer.pristine||t,S=r.enhancer.validate(!0,{force:c});Object.keys(S).length>0&&(i=!1)}),i},N=function(){E(),F()},E=function(){let e=document.querySelectorAll("[data-powermail-morestep-show]");for(let t=0;t<e.length;t++)e[t].addEventListener("click",function(s){s.preventDefault(),L(s.currentTarget)})},F=function(){let e=document.querySelectorAll("nav.Progress");for(let t=0;t<e.length;t++){let s=e[t];s.addEventListener("click",function(i){let r=i.target.closest(".Progress__button");if(!r||r.tagName!=="BUTTON")return;i.preventDefault();let c=s.querySelectorAll(".Progress__button");C(r,c)})}},L=function(e){let t=e.closest("form");if(!t)return!1;let s=v(t),i=parseInt(e.getAttribute("data-powermail-morestep-show"),10);if(i<s)return o.showFieldset(i,t),!1;i>s&&B(t,s,i)&&o.showFieldset(i,t)},C=function(e,t){let s=e.closest("form"),i=Array.from(t).indexOf(e),r=a(s),c=v(s);if(i>r+1)return!1;if(i>c&&i>r)if(g(s,c),p(s))l(s,c);else return h(s),!1;o.showFieldset(i,s)},B=function(e,t,s){if(g(e,t),!p(e,{showErrors:!0}))return h(e),!1;let r=Math.max(s-1,a(e));return l(e,r),m(e),!0},g=function(e,t){Array.isArray(e._stepPristine)&&(e._stepPristine[t]=!1,f(e)[t].querySelectorAll("input, select, textarea").forEach(i=>{var r;(r=i.enhancer)!=null&&r.setPristine&&i.enhancer.setPristine(!1)}))},x=function(e){let t=f(e);for(let s=0;s<t.length;s++)d.hideElement(t[s])},T=function(e,t){let s=f(e);d.showElement(s[t])},V=function(e,t){let s=a(e),i=Math.max(t-1,-1),r=Math.max(s,i);U(e,t,r)},M=function(e,t){Array.isArray(e._stepPristine)&&e._stepPristine[t]&&f(e)[t].querySelectorAll("input, select, textarea").forEach(i=>{var r;(r=i.enhancer)!=null&&r.setPristine&&i.enhancer.setPristine(!0)})},h=function(e){var t;(t=e.enhancer)!=null&&t.errorNavigation&&(e.enhancer.errorNavigation.removeAttribute("hidden"),e.enhancer.errorNavigation.classList.add("Form__error-navigation--visible"),e.enhancer.errorNavigation.focus())},m=function(e){var t;(t=e.enhancer)!=null&&t.errorNavigation&&(e.enhancer.errorNavigation.setAttribute("hidden","hidden"),e.enhancer.errorNavigation.classList.remove("Form__error-navigation--visible"))},v=function(e){if(typeof e._activeStep=="number")return e._activeStep;let t=f(e);for(let s=0;s<t.length;s++){let i=t[s];if(!(i.hasAttribute("hidden")||i.style.display==="none"))return s}return 0},f=function(e){return e.querySelectorAll("."+n)},U=function(e,t,s){let i=typeof s=="number"?s:-1;e.querySelectorAll("nav.Progress").forEach(c=>{c.querySelectorAll(".Progress__button[data-powermail-morestep-current]").forEach(b=>{let y=parseInt(b.dataset.powermailMorestepCurrent,10);if(Number.isNaN(y))return;let R=q(y,t,i);z(b,R)})})},q=function(e,t,s){return e===t?{type:"active",ariaAttributes:{"aria-current":"step"},progressStepClass:"ProgressStep--active",progressItemClass:"Progress__item--sibling-active",shouldBeButton:!0}:e<t?{type:"complete",ariaAttributes:{},progressStepClass:"ProgressStep--complete",progressItemClass:"Progress__item--sibling-complete",useSuccessLabel:!0,shouldBeButton:!0}:{type:"incomplete",ariaAttributes:{},progressStepClass:"ProgressStep--incomplete",progressItemClass:"Progress__item--sibling-incomplete",shouldBeButton:!1}},I=function(e,t){let s=e.tagName==="BUTTON";if(t&&s||!t&&!s)return e;let i=document.createElement(t?"button":"div");return Array.from(e.attributes).forEach(r=>{i.setAttribute(r.name,r.value)}),i.className=e.className,i.innerHTML=e.innerHTML,e.parentNode.replaceChild(i,e),i},z=function(e,t){let s=t.shouldBeButton!==!1;return e=I(e,s),k(e),Object.entries(t.ariaAttributes).forEach(([i,r])=>{e.setAttribute(i,r)}),D(e,t.useSuccessLabel),H(e,t.progressStepClass),O(e,t.progressItemClass),e},O=function(e,t){let s=e.closest(".Progress__item");if(!s)return;["Progress__item--sibling-complete","Progress__item--sibling-active","Progress__item--sibling-incomplete"].forEach(r=>s.classList.remove(r)),s.classList.add(t)},k=function(e){["disabled","aria-disabled","aria-current"].forEach(s=>{e.removeAttribute(s)}),e.classList.remove("is-active","is-disabled","is-valid")},D=function(e,t){let s=e.dataset.powermailDefaultLabel||e.textContent.trim(),i=e.dataset.powermailMorestepSuccess||"";e.textContent=t&&i?`${s} ${i}`:s},H=function(e,t){let s=e.closest(".ProgressStep");if(!s)return;["ProgressStep--active","ProgressStep--complete","ProgressStep--incomplete","ProgressStep--next"].forEach(r=>s.classList.remove(r)),s.classList.add(t)}}document.addEventListener("DOMContentLoaded",function(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",u):u();function u(){setTimeout(function(){new P().initialize()},10)}});})();
