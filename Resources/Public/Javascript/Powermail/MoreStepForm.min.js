(()=>{var m=class{static getLargestFileSize(n){let a=0;for(let c=0;c<n.files.length;c++){let d=n.files[c];d.size>a&&(a=d.size)}return a}static isFileExtensionInList(n,a){return a.indexOf("."+n)!==-1}static getExtensionFromFileName(n){return n.split(".").pop().toLowerCase()}static getUriWithoutGetParam(n){return n.split("?")[0]}static getRandomString(n){let a="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let d=0;d<n;d++)a+=c.charAt(Math.floor(Math.random()*c.length));return a}static redirectToUri(n){n.indexOf("http")!==-1?window.location=n:window.location.pathname=n}static hideElement(n){n!==null&&(n.style.display="none")}static showElement(n){n!==null&&(n.style.display="block")}static isElementVisible(n){return n.offsetParent!==null}};function L(){"use strict";let u="powermail_morestep",n="powermail_fieldset",a="is-active",c="is-valid",d="is-disabled",f=new WeakMap,b=this;this.initialize=function(){document.querySelectorAll("form."+u).forEach(s=>{let i=s.querySelectorAll("."+n);s._stepPristine=Array(i.length).fill(!0)}),_(),x()},this.showFieldset=function(s,i){if(i.classList.contains(u)){C(i);let r=v(i);m.showElement(r[s]),p(i,s,f.get(i)||-1),i.enhancer&&i.enhancer.errorNavigation&&(i.enhancer.errorNavigation.setAttribute("hidden","hidden"),i.enhancer.errorNavigation.classList.remove("Form__error-navigation--visible"))}};let x=function(){let s=document.querySelectorAll("form."+u);for(let i=0;i<s.length;i++)S(s[i])},S=function(s){f.set(s,-1),b.showFieldset(0,s),p(s,0,-1)},A=function(s){if(typeof window.isFieldVisible!="function")return!0;let i=Array.from(s.elements).filter(t=>window.isFieldVisible(t)&&t.enhancer),r=!0;return i.forEach(t=>{let e=t.enhancer.validate(!0);Object.keys(e).length>0&&(r=!1)}),r},_=function(){let s=document.querySelectorAll("[data-powermail-morestep-show]");for(let r=0;r<s.length;r++)s[r].addEventListener("click",function(t){t.preventDefault();let e=t.target.closest("form"),o=y(e),l=parseInt(t.target.getAttribute("data-powermail-morestep-show"),10);if(l>o)if(Array.isArray(e._stepPristine)&&(e._stepPristine[o]=!1),A(e)){let h=Math.max(o,f.get(e)||-1);f.set(e,h)}else return e.enhancer&&e.enhancer.errorNavigation&&(e.enhancer.errorNavigation.removeAttribute("hidden"),e.enhancer.errorNavigation.classList.add("Form__error-navigation--visible"),e.enhancer.errorNavigation.focus()),!1;p(e,l,f.get(e)||-1),b.showFieldset(l,e)});let i=document.querySelectorAll("nav.Progress");for(let r=0;r<i.length;r++){let t=i[r].querySelectorAll(".Progress__button");for(let e=0;e<t.length;e++)t[e].addEventListener("click",function(o){o.preventDefault();let l=o.target.closest("form"),h=Array.from(t).indexOf(o.target),g=f.get(l)||-1,w=y(l);if(h>g+1)return!1;if(h>w&&h>g)if(Array.isArray(l._stepPristine)&&(l._stepPristine[w]=!1),A(l)){let F=Math.max(w,g);f.set(l,F),g=F}else return l.enhancer&&l.enhancer.errorNavigation&&(l.enhancer.errorNavigation.removeAttribute("hidden"),l.enhancer.errorNavigation.classList.add("Form__error-navigation--visible"),l.enhancer.errorNavigation.focus()),!1;p(l,h,g),b.showFieldset(h,l)})}},C=function(s){let i=v(s);for(let r=0;r<i.length;r++)m.hideElement(i[r])},y=function(s){let i=v(s);for(let r=0;r<i.length;r++)if(i[r].style.display!=="none")return r;return 0},v=function(s){return s.querySelectorAll("."+n)},p=function(s,i,r){let t=s.querySelectorAll(".Progress__button, [data-powermail-morestep-current]");r=typeof r=="number"?r:-1;for(let e=0;e<t.length;e++){t[e].classList.remove(a,c,d),t[e].removeAttribute("disabled"),t[e].removeAttribute("aria-current");let o=t[e].dataset.powermailDefaultLabel||t[e].textContent.trim(),l=t[e].dataset.powermailMorestepSuccess||"";e===i?(t[e].classList.add(a),t[e].textContent=o,t[e].setAttribute("aria-current","step")):e<=r?(t[e].classList.add(c),t[e].textContent=`${o} ${l}`):(e>r+1&&(t[e].classList.add(d),t[e].setAttribute("disabled","disabled")),t[e].textContent=o)}}}document.addEventListener("DOMContentLoaded",function(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",u):u();function u(){setTimeout(function(){new L().initialize()},10)}});})();
