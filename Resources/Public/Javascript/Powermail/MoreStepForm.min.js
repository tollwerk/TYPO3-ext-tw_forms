(()=>{var d=class{static getLargestFileSize(n){let a=0;for(let l=0;l<n.files.length;l++){let o=n.files[l];o.size>a&&(a=o.size)}return a}static isFileExtensionInList(n,a){return a.indexOf("."+n)!==-1}static getExtensionFromFileName(n){return n.split(".").pop().toLowerCase()}static getUriWithoutGetParam(n){return n.split("?")[0]}static getRandomString(n){let a="",l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let o=0;o<n;o++)a+=l.charAt(Math.floor(Math.random()*l.length));return a}static redirectToUri(n){n.indexOf("http")!==-1?window.location=n:window.location.pathname=n}static hideElement(n){n!==null&&(n.style.display="none")}static showElement(n){n!==null&&(n.style.display="block")}static isElementVisible(n){return n.offsetParent!==null}};function y(){"use strict";let u="powermail_morestep",n="powermail_fieldset",a=e=>{if(typeof e._validUntil=="number")return e._validUntil;let t=parseInt(e.dataset.morestepValidUntil||"-1",10);return Number.isNaN(t)?-1:t},l=(e,t)=>{e._validUntil=t,e.dataset.morestepValidUntil=String(t)},o=this;this.initialize=function(){A(),N(),_()},this.showFieldset=function(e,t,s=!0){t.classList.contains(u)&&(x(t),T(t,e),t._activeStep=e,V(t,e),m(t),M(t,e),s&&(t.setAttribute("tabindex","-1"),t.scrollIntoView({behavior:"smooth",block:"start"}),t.focus({preventScroll:!0})))};let A=function(){document.querySelectorAll("form."+u).forEach(e=>{let t=e.querySelectorAll("."+n);e._stepPristine=Array(t.length).fill(!0)})},_=function(){let e=document.querySelectorAll("form."+u);for(let t=0;t<e.length;t++)w(e[t])},w=function(e){l(e,-1),o.showFieldset(0,e,!1)},f=function(e,{showErrors:t=!0}={}){if(typeof window.isFieldVisible!="function")return!0;let s=Array.from(e.elements).filter(i=>window.isFieldVisible(i)&&i.enhancer),r=!0;return s.forEach(i=>{let c=!i.enhancer.pristine||t,S=i.enhancer.validate(!0,{force:c});Object.keys(S).length>0&&(r=!1)}),r},N=function(){E(),F()},E=function(){let e=document.querySelectorAll("[data-powermail-morestep-show]");for(let t=0;t<e.length;t++)e[t].addEventListener("click",function(s){s.preventDefault(),C(s.currentTarget)})},F=function(){let e=document.querySelectorAll("nav.Progress");for(let t=0;t<e.length;t++){let s=e[t];s.addEventListener("click",function(r){let i=r.target.closest(".Progress__button");if(!i||i.tagName!=="BUTTON")return;r.preventDefault();let c=s.querySelectorAll(".Progress__button");L(i,c)})}},C=function(e){let t=e.closest("form");if(!t)return!1;let s=v(t),r=parseInt(e.getAttribute("data-powermail-morestep-show"),10);if(r<s)return o.showFieldset(r,t),!1;r>s&&B(t,s,r)&&o.showFieldset(r,t)},L=function(e,t){let s=e.closest("form"),r=Array.from(t).indexOf(e),i=a(s),c=v(s);if(r>i+1)return!1;if(r>c&&r>i)if(g(s,c),f(s))l(s,c);else return h(s),!1;o.showFieldset(r,s)},B=function(e,t,s){if(g(e,t),!f(e,{showErrors:!0}))return h(e),!1;let i=Math.max(s-1,a(e));return l(e,i),m(e),!0},g=function(e,t){Array.isArray(e._stepPristine)&&(e._stepPristine[t]=!1,p(e)[t].querySelectorAll("input, select, textarea").forEach(r=>{var i;(i=r.enhancer)!=null&&i.setPristine&&r.enhancer.setPristine(!1)}))},x=function(e){let t=p(e);for(let s=0;s<t.length;s++)d.hideElement(t[s])},T=function(e,t){let s=p(e);d.showElement(s[t])},V=function(e,t){let s=a(e),r=Math.max(t-1,-1),i=Math.max(s,r);U(e,t,i)},M=function(e,t){Array.isArray(e._stepPristine)&&e._stepPristine[t]&&p(e)[t].querySelectorAll("input, select, textarea").forEach(r=>{var i;(i=r.enhancer)!=null&&i.setPristine&&r.enhancer.setPristine(!0)})},h=function(e){var t;(t=e.enhancer)!=null&&t.errorNavigation&&(e.enhancer.errorNavigation.removeAttribute("hidden"),e.enhancer.errorNavigation.classList.add("Form__error-navigation--visible"),e.enhancer.errorNavigation.focus())},m=function(e){var t;(t=e.enhancer)!=null&&t.errorNavigation&&(e.enhancer.errorNavigation.setAttribute("hidden","hidden"),e.enhancer.errorNavigation.classList.remove("Form__error-navigation--visible"))},v=function(e){if(typeof e._activeStep=="number")return e._activeStep;let t=p(e);for(let s=0;s<t.length;s++){let r=t[s];if(!(r.hasAttribute("hidden")||r.style.display==="none"))return s}return 0},p=function(e){return e.querySelectorAll("."+n)},U=function(e,t,s){let r=typeof s=="number"?s:-1;e.querySelectorAll("nav.Progress").forEach(c=>{c.querySelectorAll(".Progress__button[data-powermail-morestep-current]").forEach(b=>{let P=parseInt(b.dataset.powermailMorestepCurrent,10);if(Number.isNaN(P))return;let R=q(P,t,r);I(b,R)})})},q=function(e,t,s){return e===t-1?{type:"complete",ariaAttributes:{},progressStepClass:"ProgressStep--complete",progressItemClass:"Progress__item--sibling-active",useSuccessLabel:!0,shouldBeButton:!0}:e<t-1?{type:"complete",ariaAttributes:{},progressStepClass:"ProgressStep--complete",progressItemClass:"Progress__item--sibling-complete",useSuccessLabel:!0,shouldBeButton:!0}:e===t?{type:"active",ariaAttributes:{"aria-current":"step"},progressStepClass:"ProgressStep--active",progressItemClass:"Progress__item--sibling-incomplete",shouldBeButton:!0}:{type:"incomplete",ariaAttributes:{},progressStepClass:"ProgressStep--incomplete",progressItemClass:"Progress__item--sibling-incomplete",shouldBeButton:!1}},z=function(e,t){let s=e.tagName==="BUTTON";if(t&&s||!t&&!s)return e;let r=document.createElement(t?"button":"div");return Array.from(e.attributes).forEach(i=>{r.setAttribute(i.name,i.value)}),r.className=e.className,r.innerHTML=e.innerHTML,e.parentNode.replaceChild(r,e),r},I=function(e,t){let s=t.shouldBeButton!==!1;return e=z(e,s),k(e),Object.entries(t.ariaAttributes).forEach(([r,i])=>{e.setAttribute(r,i)}),D(e,t.useSuccessLabel),H(e,t.progressStepClass),O(e,t.progressItemClass),e},O=function(e,t){let s=e.closest(".Progress__item");if(!s)return;["Progress__item--sibling-complete","Progress__item--sibling-active","Progress__item--sibling-incomplete"].forEach(i=>s.classList.remove(i)),s.classList.add(t)},k=function(e){["disabled","aria-disabled","aria-current"].forEach(s=>{e.removeAttribute(s)}),e.classList.remove("is-active","is-disabled","is-valid")},D=function(e,t){let s=e.dataset.powermailDefaultLabel||e.textContent.trim(),r=e.dataset.powermailMorestepSuccess||"";e.textContent=t&&r?`${s} ${r}`:s},H=function(e,t){let s=e.closest(".ProgressStep");if(!s)return;["ProgressStep--active","ProgressStep--complete","ProgressStep--incomplete","ProgressStep--next"].forEach(i=>s.classList.remove(i)),s.classList.add(t)}}document.addEventListener("DOMContentLoaded",function(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",u):u();function u(){setTimeout(function(){new y().initialize()},10)}});})();
