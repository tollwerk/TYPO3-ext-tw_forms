!function(e,t){const r=function(e){return e.preventDefault(),this.fields[e.target.href.split("#").pop()].focus(),!1};function i(e){this.element=e,this.element.enhancer=this,this.element.setAttribute("novalidate","novalidate"),this.element.addEventListener("submit",this.validate.bind(this)),this.errorNavigation=null,this.fields={};for(let e=0;e<this.element.elements.length;++e){const t=this.element.elements[e].id;t&&this.element.elements[e].enhancer&&(this.element.elements[e].enhancer.isGroup&&this.element.elements[e].enhancer.groupPrimaryEnhancer||(this.fields[t]=this.element.elements[e].enhancer))}this.initializeErrorSummary(this.element.querySelector(".Form__error-summary"))}i.prototype.initializeErrorSummary=function(e){this.errorSummary=e,this.errorSummary&&(this.errorNavigation=this.errorSummary.closest(".Form__error-navigation"),this.errorSummary.querySelectorAll("a.Form__error-link").forEach((e=>{const t=e.href.split("#");2===t.length&&t[1]in this.fields&&e.addEventListener("click",r.bind(this))})))},i.prototype.validate=function(e){if(!(e&&e.submitter&&e.submitter.hasAttribute("formnovalidate"))){const t={};for(const e in this.fields)if(Object.prototype.hasOwnProperty.call(this.fields,e)){const r=this.fields[e].validate(!0,null);this.fields[e].lastConstraints&&(t[e]=r)}if(!this.updateErrorSummary(t))return this.errorNavigation.removeAttribute("hidden"),e&&(this.errorNavigation.focus(),e.preventDefault(),e.stopImmediatePropagation()),!1}return this.errorNavigation.setAttribute("hidden","hidden"),!1},i.prototype.update=function(){this.errorNavigation.hidden||this.validate(null)},i.prototype.updateErrorSummary=function(e){let i=0;for(;this.errorSummary.childNodes.length;)this.errorSummary.removeChild(this.errorSummary.firstChild);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){i+=1;const o=t.createElement("a");o.className="Form__error-link",o.href=`#${n}`,o.textContent=Object.values(e[n]).join("; "),o.addEventListener("click",r.bind(this));const s=t.createElement("li");s.className="Form__error-description",s.appendChild(o),this.errorSummary.appendChild(s)}const n=this.errorNavigation.querySelector(".Heading");if(n){const e="data-heading-"+(1===i?"single":"multiple");n.textContent=n.getAttribute(e).split("%s").join(i)}let o=this.errorNavigation.getAttribute("data-title");return i&&(o=this.errorNavigation.getAttribute("data-title-errors").format(i,o)),document.title=o,!i},t.addEventListener("DOMContentLoaded",(()=>{t.querySelectorAll("form.Form--custom-validation").forEach((e=>new i(e)))}))}("undefined"!=typeof global?global:window,document);
